version: '3.8'

services:
  absence-visualizer:
    build: .
    container_name: absence-visualizer
    ports:
      - '8080:8080'
    environment:
      # Secrets (Provide these in a .env file or host environment)
      - PERSONIO_CLIENT_ID=${PERSONIO_CLIENT_ID}
      - PERSONIO_CLIENT_SECRET=${PERSONIO_CLIENT_SECRET}
      - AZURE_CLIENT_ID=${AZURE_CLIENT_ID}
      - AZURE_TENANT_ID=${AZURE_TENANT_ID}
      # Optional: M365 Authentication (default: true)
      - AUTH_ENABLED=${AUTH_ENABLED:-true}
      # Optional: Custom Company Name
      - COMPANY_NAME=${COMPANY_NAME:-Organization}
      - ALLOWED_ORIGIN=${ALLOWED_ORIGIN:-http://localhost:8080}
      - PORT=8080
    restart: unless-stopped
